/**
 * Compact Mode Styles
 * Активируется через data-compact="true" на корневом элементе
 */

/* ============================================
   COMPACT MODE ROOT
   ============================================ */

[data-compact="true"] {
  /* Уменьшенные spacing */
  --spacing-xs: 0.125rem;
  --spacing-sm: 0.25rem;
  --spacing-md: 0.5rem;
  --spacing-lg: 0.75rem;
  --spacing-xl: 1rem;
  --spacing-2xl: 1.5rem;
  --spacing-3xl: 2rem;

  /* Уменьшенные радиусы */
  --radius-sm: 0.125rem;
  --radius-md: 0.25rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;

  /* Уменьшенные шрифты */
  --font-size-xs: 0.65rem;
  --font-size-sm: 0.75rem;
  --font-size-base: 0.875rem;
  --font-size-lg: 1rem;
  --font-size-xl: 1.125rem;
  --font-size-2xl: 1.25rem;
  --font-size-3xl: 1.5rem;
}

/* ============================================
   TYPOGRAPHY
   ============================================ */

[data-compact="true"] body {
  font-size: 0.875rem;
  line-height: 1.4;
}

[data-compact="true"] h1,
[data-compact="true"] .apple-heading-1 {
  font-size: 1.75rem;
  margin-bottom: 0.5rem;
}

[data-compact="true"] h2,
[data-compact="true"] .apple-heading-2 {
  font-size: 1.25rem;
  margin-bottom: 0.375rem;
}

[data-compact="true"] h3,
[data-compact="true"] .apple-heading-3 {
  font-size: 1rem;
  margin-bottom: 0.25rem;
}

[data-compact="true"] p {
  margin-bottom: 0.375rem;
}

/* ============================================
   CARDS
   ============================================ */

[data-compact="true"] .apple-card {
  padding: 0.75rem;
  margin-bottom: 0.5rem;
  border-radius: 0.5rem;
}

[data-compact="true"] .apple-card-header {
  padding-bottom: 0.5rem;
  margin-bottom: 0.5rem;
}

[data-compact="true"] .apple-card-content {
  padding: 0.5rem 0;
}

[data-compact="true"] .apple-card-footer {
  padding-top: 0.5rem;
  margin-top: 0.5rem;
}

/* ============================================
   BUTTONS
   ============================================ */

[data-compact="true"] button,
[data-compact="true"] .btn,
[data-compact="true"] .apple-button {
  padding: 0.375rem 0.75rem;
  font-size: 0.8125rem;
  border-radius: 0.375rem;
  min-height: 32px;
}

[data-compact="true"] .btn-sm,
[data-compact="true"] .apple-button-sm {
  padding: 0.25rem 0.5rem;
  font-size: 0.75rem;
  min-height: 26px;
}

[data-compact="true"] .btn-lg,
[data-compact="true"] .apple-button-lg {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
  min-height: 38px;
}

[data-compact="true"] .btn-icon,
[data-compact="true"] button svg,
[data-compact="true"] .apple-button svg {
  width: 16px;
  height: 16px;
}

/* ============================================
   FORM ELEMENTS
   ============================================ */

[data-compact="true"] input,
[data-compact="true"] select,
[data-compact="true"] textarea,
[data-compact="true"] .apple-input {
  padding: 0.375rem 0.5rem;
  font-size: 0.8125rem;
  min-height: 32px;
  border-radius: 0.375rem;
}

[data-compact="true"] input[type="checkbox"],
[data-compact="true"] input[type="radio"] {
  width: 16px;
  height: 16px;
  min-width: 16px;
  min-height: 16px;
}

[data-compact="true"] label {
  font-size: 0.75rem;
  margin-bottom: 0.25rem;
}

[data-compact="true"] .form-group {
  margin-bottom: 0.5rem;
}

/* ============================================
   TABLES
   ============================================ */

[data-compact="true"] table {
  font-size: 0.8125rem;
}

[data-compact="true"] th,
[data-compact="true"] td {
  padding: 0.375rem 0.5rem;
}

[data-compact="true"] th {
  font-size: 0.75rem;
  font-weight: 600;
}

[data-compact="true"] .table-condensed th,
[data-compact="true"] .table-condensed td {
  padding: 0.25rem 0.375rem;
}

/* ============================================
   NAVIGATION
   ============================================ */

[data-compact="true"] nav {
  padding: 0.5rem;
}

[data-compact="true"] .nav-item {
  padding: 0.375rem 0.75rem;
  font-size: 0.8125rem;
}

[data-compact="true"] .sidebar {
  width: 200px;
}

[data-compact="true"] .sidebar .nav-item {
  padding: 0.375rem 0.625rem;
}

/* ============================================
   MODALS & DIALOGS
   ============================================ */

[data-compact="true"] .modal-content {
  padding: 0.75rem;
}

[data-compact="true"] .modal-header {
  padding-bottom: 0.5rem;
  margin-bottom: 0.5rem;
}

[data-compact="true"] .modal-footer {
  padding-top: 0.5rem;
  margin-top: 0.5rem;
  gap: 0.5rem;
}

/* ============================================
   LISTS
   ============================================ */

[data-compact="true"] ul,
[data-compact="true"] ol {
  padding-left: 1rem;
}

[data-compact="true"] li {
  margin-bottom: 0.25rem;
}

[data-compact="true"] .list-item {
  padding: 0.375rem 0.5rem;
}

/* ============================================
   BADGES & TAGS
   ============================================ */

[data-compact="true"] .badge,
[data-compact="true"] .tag {
  padding: 0.125rem 0.375rem;
  font-size: 0.65rem;
  border-radius: 0.25rem;
}

/* ============================================
   ICONS
   ============================================ */

[data-compact="true"] svg:not(.no-compact-resize) {
  width: 16px;
  height: 16px;
}

[data-compact="true"] .icon-lg {
  width: 20px;
  height: 20px;
}

[data-compact="true"] .icon-sm {
  width: 14px;
  height: 14px;
}

/* ============================================
   SPECIFIC COMPONENTS
   ============================================ */

/* Command Palette */
[data-compact="true"] [cmdk-root] {
  max-height: 350px;
}

[data-compact="true"] [cmdk-input] {
  height: 40px;
  font-size: 0.875rem;
}

[data-compact="true"] [cmdk-item] {
  padding: 0.375rem 0.625rem;
  font-size: 0.8125rem;
}

/* Sidebar */
[data-compact="true"] aside.sidebar,
[data-compact="true"] .md\\:block.w-72 {
  width: 220px;
}

/* Progress Bar */
[data-compact="true"] .progress-bar {
  height: 4px;
}

/* Configurator Steps */
[data-compact="true"] .step-indicator {
  padding: 0.25rem 0.5rem;
  font-size: 0.75rem;
}

/* Summary Items */
[data-compact="true"] .summary-item {
  padding: 0.5rem;
  margin-bottom: 0.375rem;
}

/* ============================================
   SPACING UTILITIES
   ============================================ */

[data-compact="true"] .space-y-4 > * + *,
[data-compact="true"] .space-y-6 > * + * {
  margin-top: 0.5rem;
}

[data-compact="true"] .gap-4,
[data-compact="true"] .gap-6 {
  gap: 0.5rem;
}

[data-compact="true"] .p-4,
[data-compact="true"] .p-6 {
  padding: 0.75rem;
}

[data-compact="true"] .px-4,
[data-compact="true"] .px-6 {
  padding-left: 0.75rem;
  padding-right: 0.75rem;
}

[data-compact="true"] .py-4,
[data-compact="true"] .py-6 {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}

[data-compact="true"] .m-4,
[data-compact="true"] .m-6 {
  margin: 0.75rem;
}

[data-compact="true"] .mb-4,
[data-compact="true"] .mb-6,
[data-compact="true"] .mb-8 {
  margin-bottom: 0.5rem;
}

/* ============================================
   GRID ADJUSTMENTS
   ============================================ */

[data-compact="true"] .grid {
  gap: 0.5rem;
}

[data-compact="true"] .xl\\:col-span-4 {
  /* Можно уменьшить колонки */
}

/* ============================================
   PRINT STYLES (compact всегда для печати)
   ============================================ */

@media print {
  body {
    font-size: 10pt;
  }

  .apple-card {
    padding: 0.5rem;
    break-inside: avoid;
  }

  th, td {
    padding: 0.25rem 0.375rem;
  }
  
  button, .btn {
    display: none;
  }
}
